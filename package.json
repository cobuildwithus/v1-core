{
  "name": "cobuild-protocol",
  "title": "Cobuild Protocol Contracts",
  "description": "Generalized TCR and arbitration smart contracts for Cobuild.",
  "version": "0.1.0",
  "license": "GPL-3.0",
  "private": true,
  "scripts": {
    "build": "SHARED_BUILD_THREADS=${SHARED_BUILD_THREADS:-0} scripts/forge-build-shared.sh",
    "prettier:check": "prettier --check 'src/**/*.sol'",
    "prettier:write": "prettier --write 'src/**/*.sol'",
    "test": "forge test -vvv",
    "test:scope": "scripts/test-scope.sh",
    "test:tcr": "scripts/test-scope.sh tcr",
    "test:tcr:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh tcr",
    "test:arbitrator": "scripts/test-scope.sh arbitrator",
    "test:arbitrator:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh arbitrator",
    "test:budget": "scripts/test-scope.sh budget",
    "test:budget:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh budget",
    "test:flows": "scripts/test-scope.sh flows",
    "test:flows:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh flows",
    "test:flows:shared:dynamic": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} TEST_SCOPE_DYNAMIC_TEST_LINKING=1 TEST_SCOPE_SPARSE_MODE=1 scripts/test-scope.sh flows",
    "test:goals": "scripts/test-scope.sh goals",
    "test:goals:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh goals",
    "test:goals:shared:dynamic": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} TEST_SCOPE_DYNAMIC_TEST_LINKING=1 TEST_SCOPE_SPARSE_MODE=1 scripts/test-scope.sh goals",
    "test:invariant": "scripts/test-scope.sh invariant",
    "test:invariant:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh invariant",
    "test:lite": "scripts/test-scope.sh all-lite",
    "test:lite:shared": "TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh all-lite",
    "test:lite:fast": "FOUNDRY_PROFILE=fast-local TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh all-lite",
    "test:flows:fast": "FOUNDRY_PROFILE=fast-local TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh flows",
    "test:goals:fast": "FOUNDRY_PROFILE=fast-local TEST_SCOPE_THREADS=${TEST_SCOPE_THREADS:-0} TEST_SCOPE_BUILD_THREADS=${TEST_SCOPE_BUILD_THREADS:-0} scripts/test-scope.sh goals",
    "verify:full": "FULL_GATE_BUILD_THREADS=${FULL_GATE_BUILD_THREADS:-0} scripts/verify-full-gate.sh",
    "verify:full:strict": "FULL_GATE_BUILD_THREADS=${FULL_GATE_BUILD_THREADS:-0} scripts/verify-full-gate.sh --fail-on-stale",
    "verify:full:nowait": "FULL_GATE_BUILD_THREADS=${FULL_GATE_BUILD_THREADS:-0} scripts/verify-full-gate.sh --no-wait",
    "verify:full:tail": "scripts/tail-full-gate-log.sh",
    "verify:full:tail:latest": "scripts/tail-full-gate-log.sh --latest",
    "verify:required": "scripts/verify-queue.sh submit required --wait",
    "verify:required:ci": "pnpm -s build && pnpm -s test:lite:shared && FOUNDRY_PROFILE=ci pnpm -s test:invariant:shared",
    "verify:required:full": "pnpm -s verify:full",
    "test:coverage": "pnpm -s coverage && pnpm -s coverage:check",
    "test:coverage:ci": "pnpm -s coverage:ci && pnpm -s coverage:check",
    "coverage": "mkdir -p coverage && FOUNDRY_PROFILE=coverage forge coverage --report lcov --report-file coverage/lcov.info --ir-minimum --exclude-tests --skip 'audit-packages/**'",
    "coverage:ci": "mkdir -p coverage && FOUNDRY_PROFILE=coverage-ci forge coverage --report lcov --report-file coverage/lcov.info --ir-minimum --exclude-tests --skip 'audit-packages/**'",
    "coverage:ci:shared": "mkdir -p coverage && FOUNDRY_PROFILE=coverage-ci forge coverage --report lcov --report-file coverage/lcov.info --ir-minimum --exclude-tests --skip 'audit-packages/**' -j 4",
    "coverage:quick": "mkdir -p coverage && FOUNDRY_PROFILE=coverage-ci forge coverage --report lcov --report-file coverage/lcov.info --ir-minimum --exclude-tests --skip 'audit-packages/**' --no-match-path 'test/invariant/**' --fuzz-runs 32 -j 4",
    "coverage:report": "pnpm -s coverage && lcov --rc branch_coverage=1 --rc check_data_consistency=0 --list coverage/lcov.info",
    "coverage:check": "node scripts/coverage-check.mjs coverage/lcov.info",
    "dev": "forge test --watch -vvv",
    "build:sizes": "scripts/build-sizes-project.sh",
    "build:sizes:all": "forge build --sizes",
    "slither": "scripts/slither.sh",
    "copy:changed-sol": "scripts/copy-sol-to-clipboard.sh --changed-non-tests",
    "copy:changed-sol-tests": "scripts/copy-sol-to-clipboard.sh --changed-tests",
    "copy:all-sol": "scripts/copy-all-sol.sh",
    "package:audit-context": "scripts/package-audit-context.sh",
    "review:gpt": "scripts/chatgpt-oracle-review.sh",
    "review:gpt:nozip": "scripts/build-nozip-review-prompt.sh",
    "review:gpt:nozip:list": "scripts/build-nozip-review-prompt.sh --list-profiles",
    "prepare": "husky install",
    "build:sizes:raw": "forge build --sizes --contracts src --skip 'test/**'",
    "review:gpt:nozip:run": "scripts/run-review-gpt-nozip.sh"
  },
  "devDependencies": {
    "@bananapus/permission-ids-v5": "^0.0.2",
    "@cobuild/review-gpt": "^0.2.7",
    "@openzeppelin/contracts": "5.4.0",
    "@openzeppelin/contracts-upgradeable": "5.4.0",
    "@prb/math": "^4.1.1",
    "@uniswap/v4-core": "1.0.2",
    "@uniswap/v4-periphery": "1.0.3",
    "husky": "^8.0.0",
    "prettier": "^3.0.3",
    "prettier-plugin-solidity": "^1.3.1"
  },
  "packageManager": "pnpm@9.15.9+sha512.68046141893c66fad01c079231128e9afb89ef87e2691d69e4d40eee228988295fd4682181bae55b58418c3a253bde65a505ec7c5f9403ece5cc3cd37dcf2531"
}
